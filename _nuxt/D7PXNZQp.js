import{f as e,q as l,z as a,c as t,o,F as n,a as s,b as u,I as r,n as p,t as i,r as c,H as d,Q as f,w as m,j as x,aP as v,R as k,aQ as b,T as g,d as _,aR as y,G as h,C as F,S as C,_ as w}from"./BArbQupS.js";import V from"./BBHTy5JR.js";import{V as $}from"./Dqelgeu1.js";import{C as R}from"./F5y5-Ggc.js";const A={class:"w-tabs flex-1 flex-wrap"},G=["onClick"],j={class:"clickable color-#3F80F7! flex gap-2px"},q={class:"font-500 text-14px lh-[120%] tracking-0% text-[--d-FFF-l-000]"},z={class:"mb-8px text-12px lh-16px"},I={class:"flex-between w-100%"},P=w(e({__name:"proGroups",props:{options:{type:Array,default:()=>[]},modelValue:{type:Number,default:0}},emits:["onConfirm","onDelete","onCancel","update:modelValue","onChangeIndex","onAdd","update:options"],setup(e,{emit:w}){const P=w,S=e,U=l({buttonRefs:{}}),D=l(S.options);a((()=>S.options),(e=>{D.value=e}));const M=l(""),N=l(""),O=l({}),Q=l(),B=l(!1),E=l(),H=l(),T=l(),J=l(),K=l(),L=l(!1);function W(){O.value[Q.value]=!0,y((()=>{var e;null==(e=document.querySelector(".name-input input"))||e.focus()}))}function X(){O.value[Q.value]=!1,P("onCancel",Q.value)}function Y(){P("onDelete",Q.value)}function Z(){var e,l;P("onAdd",N.value),null==(l=null==(e=T.value)?void 0:e.close)||l.call(e)}function ee(){var e,l;null==(l=null==(e=K.value)?void 0:e.hide)||l.call(e)}return a(N,(e=>{})),(e,l)=>{const a=d,y=C,w=g,le=f;return o(),t(n,null,[s("ul",A,[s("li",{class:p(["clickable",{active:0===S.modelValue}]),onClick:l[0]||(l[0]=r((e=>P("update:modelValue",0)),["stop","prevent"]))},[s("span",null,i(e.$t("defaultGroup")),1)],2),(o(!0),t(n,null,c(S.options,(e=>(o(),t("li",{key:e.group_id,class:p(["clickable flex gap-2px",{active:S.modelValue===e.group_id,"px-0px!":x(O)[e.group_id]}]),onClick:r((l=>P("update:modelValue",e.group_id)),["stop","prevent"])},[x(O)[e.group_id]?(o(),h(y,{key:0,modelValue:x(M),"onUpdate:modelValue":l[2]||(l[2]=e=>k(M)?M.value=e:null),style:{width:"140px"},size:"default",class:"name-input"},{suffix:m((()=>[u(a,{name:"mynaui:x-square-solid",class:"text-18px color-[var(--d-F5F5F5-l-222)] clickable",onClick:r(X,["stop","prevent"])}),u(a,{name:"mynaui:check-square-solid",class:p(["text-18px color-[var(--d-F5F5F5-l-222)] clickable",{"cursor-not-allowed":!x(M)}]),onClick:l[1]||(l[1]=r((e=>x(M)&&(O.value[Q.value]=!1,void P("onConfirm",Q.value,M.value))),["stop","prevent"]))},null,8,["class"])])),_:1},8,["modelValue"])):(o(),t(n,{key:1},[s("span",null,i(e.name),1),F(u(a,{ref_for:!0,ref:l=>x(U).buttonRefs[e.group_id]=l,name:"mdi:dots-vertical",class:"text-14px",onClick:r((l=>{E.value=x(U).buttonRefs[e.group_id],B.value=!0,Q.value=e.group_id,M.value=e.name}),["stop","prevent"])},null,8,["onClick"]),[[x(R),()=>B.value=!1]])],64))],10,G)))),128)),s("li",{ref_key:"addButtonRef",ref:H,class:"clickable color-#3F80F7! flex gap-2px"},[u(a,{name:"material-symbols:add-circle",class:"text-12px"}),s("span",null,i(e.$t("newGroup")),1)],512),u(le,{width:293,trigger:"click",ref_key:"popoverRef2",ref:K},{reference:m((()=>[s("li",j,[u(a,{name:"material-symbols:format-list-bulleted",class:"text-12px"}),s("span",null,i(e.$t("groupManage")),1)])])),default:m((()=>[s("div",q,[s("div",z,i(e.$t("groupManage")),1),u(x($),v({class:"flex flex-col mb-12px",tag:"ul",modelValue:x(D),"onUpdate:modelValue":l[3]||(l[3]=e=>k(D)?D.value=e:null)},{animation:200},{onStart:l[4]||(l[4]=e=>L.value=!0),onEnd:l[5]||(l[5]=e=>L.value=!1),"item-key":"show_index"}),{default:m((()=>[u(b,{type:"transition",name:"flip-list"},{default:m((()=>[(o(!0),t(n,null,c(x(D),(e=>(o(),t("li",{key:e.show_index,class:"flex-between px-12px py-8px hover:bg-[--d-2A2A2A-l-F2F2F2] cursor-move"},[s("span",null,i(e.name),1),u(a,{name:"material-symbols:dehaze"})])))),128))])),_:1})])),_:1},16,["modelValue"]),s("div",I,[u(w,{style:{background:"var(--d-333-l-F2F2F2)","--el-border":"none"},class:"flex-1",onClick:l[6]||(l[6]=r((()=>{var e,l;return null==(l=null==(e=x(K))?void 0:e.hide)?void 0:l.call(e)}),["stop","prevent"]))},{default:m((()=>[_(i(e.$t("cancel")),1)])),_:1}),u(w,{type:"primary",class:"flex-1",onClick:r(ee,["stop","prevent"])},{default:m((()=>[_(i(e.$t("confirm")),1)])),_:1})])])])),_:1},512)]),u(le,{ref_key:"popoverRef",ref:J,visible:x(B),"virtual-ref":x(E),trigger:"click",title:"","virtual-triggering":"","popper-style":"width: 86px;min-width: 86px;"},{default:m((()=>[s("ul",null,[s("li",{class:"font-500 text-14px lh-[100%] tracking-0px mb-20px flex-start gap-4px clickable",onClick:r(W,["stop","prevent"])},[u(a,{name:"fe:edit",class:"color-#666 text-14px mt-3px"}),s("span",null,i(e.$t("rename")),1)]),s("li",{class:"font-500 text-14px lh-[100%] tracking-0px clickable flex-start gap-4px",onClick:r(Y,["stop","prevent"])},[u(a,{name:"bx:bxs-trash-alt",class:"text-15px color-#666 mt-3px"}),s("span",null,i(e.$t("delete")),1)])])])),_:1},8,["visible","virtual-ref"]),u(V,{ref_key:"proPopoverRef",ref:T,modelValue:x(N),"onUpdate:modelValue":l[7]||(l[7]=e=>k(N)?N.value=e:null),"button-ref":x(H)||{},width:"248",label:e.$t("newGroup"),placeholder:e.$t("groupPlaceholder"),prop:"name",title:e.$t("newGroup"),onOnConfirm:Z},null,8,["modelValue","button-ref","label","placeholder","title"])],64)}}}),[["__scopeId","data-v-4ef1a1d3"]]);export{P as default};
