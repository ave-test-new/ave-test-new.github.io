import{f as e,a7 as l,a8 as a,a9 as t,p as r,h as s,q as o,i as n,s as c,l as u,z as i,x as p,aa as d,A as x,c as v,o as m,B as g,C as h,b as f,j as k,F as b,r as _,w as y,a as w,t as C,S as F,d as V,H as $,Q as S,D as j,G,e as A,I as z,L as B,ab as N,ac as R,V as H,Y as U,Z as E,ad as T,a0 as I,ae as L,n as P,_ as D}from"./BArbQupS.js";import{E as M,a as O}from"./C0-q3wA8.js";import{E as q,a as J}from"./BDaXgDLK.js";import{E as Q}from"./h9fNpKGN.js";import"./RPgn-SFc.js";import"./DiUQ5gHK.js";import{E as K}from"./nQdZ39ta.js";import{V as W}from"./Dqelgeu1.js";import{_ as Y}from"./I2iqTsxw.js";import{a as Z,e as X,r as ee,m as le,g as ae,b as te,c as re,d as se}from"./DfNTDuPk.js";import"./F5y5-Ggc.js";const oe={key:0,class:"flex items-center px-12px mt-12px gap-8px overflow-x-auto scrollbar-hide"},ne=["onClick"],ce={key:0},ue=["onClick"],ie={class:"ml-4px text-14px"},pe=["onClick"],de={class:"ml-4px text-14px"},xe={key:1},ve={class:"flex items-center justify-between mt-12px gap-12px"},me=["onClick"],ge=["onClick"],he={class:"flex items-center justify-between mt-12px gap-12px"},fe={class:"flex items-center justify-between mt-12px gap-12px"},ke={key:0,class:"flex flex-col items-center justify-center py-30px"},be={key:0,src:U},_e={key:1,src:E},ye={key:1},we={class:"flex items-center"},Ce={class:"text-[#848E9C] text-12px mr-5px"},Fe={class:"relative ml-3px"},Ve=["src"],$e=["src"],Se=["src"],je={class:"ml-5px"},Ge={class:"flex items-center"},Ae={class:"text-13px mr-3px"},ze={class:"text-[--d-666-l-999]"},Be=["title"],Ne=["onClick"],Re=["href"],He={class:"flex items-center mt-2px"},Ue={class:"text-8px text-[--d-666-l-999]"},Ee=["href"],Te=["href"],Ie=["innerHTML"],Le={key:0,class:"text-[#12b886]"},Pe={key:1,class:"text-[#848E9C]"},De={key:2,class:"text-[#ff646d]"},Me={class:"flex items-center justify-between mt-12px gap-12px"},Oe=D(e({__name:"index",setup(e){const U=l(),E=a(),D=t(),Oe=r(),{t:qe}=s(),Je=o(0),Qe=o([]),Ke=n((()=>[{label:qe("defaultGroup"),value:0},...Qe.value])),We=o([]),Ye=o(""),Ze=o(),Xe=o(),el=o(),ll=o(),al=o(""),tl=o(void 0),rl=o(""),sl=o(!1),ol=o({x:0,y:0}),nl=o({getBoundingClientRect:()=>({width:0,height:0,top:ol.value.y,left:ol.value.x,bottom:ol.value.y,right:ol.value.x}),get clientWidth(){return 0},get clientHeight(){return 0}}),cl=o({}),ul=o(!1),il=o({total:10,page:1,pageSize:50}),pl=o([]),{mode:dl}=c(u()),xl=n((()=>U.evmAddress||E.address));i((()=>E.walletSignature[E.address]),(e=>{e&&(_l(),yl())})),i((()=>U.evmAddress),(e=>{e?(_l(),yl()):(pl.value=[],Qe.value=[])})),i((()=>E.address),(e=>{e?(_l(),yl()):(pl.value=[],Qe.value=[])}));const vl=e=>{var l,a,t;return(null==(l=e.value)?void 0:l.appendix)&&T(null==(a=e.value)?void 0:a.appendix)?JSON.parse(null==(t=e.value)?void 0:t.appendix):{}},ml=e=>{Je.value=e,il.value.page=1,_l()},gl=()=>{tl.value=void 0,al.value=""},hl=()=>{We.value=L(Qe.value)},fl=()=>{var e;null==(e=ll.value)||e.hide(),Qe.value=L(We.value),I.success(qe("success"))},kl=e=>{const l=!!(null==e?void 0:e.token)&&["inscription",":","("].some((l=>e.token.includes(l)));"brc20"===e.chain||"runes"===e.chain||l?Oe.push(`/brc/${e.token}-${e.chain}?from=/follow/token`):Oe.push(`/token/${e.token}-${e.chain}?from=/follow/token`)},bl=({prop:e,order:l})=>{e&&("ascending"===l?pl.value=pl.value.toSorted(((l,a)=>l[e]-a[e])):"descending"===l&&(pl.value=pl.value.toSorted(((l,a)=>a[e]-l[e]))))},_l=async()=>{const e=await ae({address:xl.value,group:Je.value,pageNO:il.value.page,pageSize:il.value.pageSize}),l=e&&(null==e?void 0:e.map((e=>({id:`${e.token}-${e.chain}`,...e,price_change_24h:"brc20"==(null==e?void 0:e.chain)?e.price_change_v2||0:e.price_change||0,pool_circulating_supply:(e.total-e.lock_amount-e.burn_amount-e.other_amount)*e.current_price_usd,group_id:Je.value}))))||[];pl.value=l},yl=async()=>{const e=await te(xl.value);Qe.value=(e||[]).filter((e=>!!e.name)).map((e=>({...e,label:e.name,value:e.group_id})))};return p((()=>{(U.evmAddress||E.address)&&(_l(),yl())})),(e,l)=>{const a=$,t=F,r=S,s=B,o=A,n=M,c=d("router-link"),u=J,i=q,p=O,T=Q,L=x("copy"),ae=x("tooltip"),te=j;return m(),v("div",null,[k(U).evmAddress||k(E).address?(m(),v("div",oe,[(m(!0),v(b,null,_(Ke.value,((e,s)=>(m(),v("div",{key:e.value,class:P(["cursor-pointer text-12px color-[--d-999-l-666] bg-[--d-15171c-l-f2f2f2] px-12px py-4px rounded-4px shrink-0 flex items-center",[Je.value===e.value&&"bg-[--d-333-l-0A0B0C] color-[#F5F5F5]"]]),onClick:l=>ml(e.value)},[V(C(e.label)+" ",1),f(r,{trigger:"click",onHide:gl,ref_for:!0,ref_key:"editGroupPopoverRef",ref:el,width:tl.value?250:100,"popper-style":"min-width: 86px;"},{reference:y((()=>[e.value>0?(m(),G(a,{key:0,onClick:l[0]||(l[0]=z((()=>{}),["stop"])),name:"custom:set-up",class:"text-12px ml-2px"})):g("",!0)])),default:y((()=>[w("div",null,[tl.value?(m(),v("div",xe,[w("div",null,C(k(qe)("rename")),1),f(t,{modelValue:al.value,"onUpdate:modelValue":l[1]||(l[1]=e=>al.value=e),placeholder:k(qe)("enterGroupName"),class:"mt-8px w-200px"},null,8,["modelValue","placeholder"]),w("div",ve,[w("div",{onClick:e=>{var l;return null==(l=el.value[s])?void 0:l.hide()},class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},C(k(qe)("cancel")),9,me),w("div",{onClick:l=>(async(e,l)=>{var a;return al.value.trim()?al.value.length>20?I.error(qe("maximum10characters")):(await se(al.value,e.value,xl.value),I.success(qe("success")),null==(a=el.value[l])||a.hide(),void yl()):I.error(qe("enterGroupName"))})(e,s),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},C(k(qe)("confirm")),9,ge)])])):(m(),v("div",ce,[w("div",{class:"flex items-center cursor-pointer w-100px",onClick:z((l=>(e=>{tl.value=e.value,al.value=e.label})(e)),["stop"])},[f(a,{name:"fe:edit",class:"color-#666 text-14px"}),w("view",ie,C(k(qe)("rename")),1)],8,ue),w("div",{class:"flex items-center cursor-pointer w-100px mt-12px",onClick:z((l=>(async e=>{await K.confirm(qe("removeFavGroupTips"),qe("tips"),{confirmButtonText:qe("confirm"),cancelButtonText:qe("cancel"),dangerouslyUseHTMLString:!0,customClass:""}),await re(e,xl.value),I.success(qe("success")),yl(),Je.value===e&&ml(0)})(e.value)),["stop"])},[f(a,{name:"bx:bxs-trash-alt",class:"text-15px color-#666"}),w("view",de,C(k(qe)("delete")),1)],8,pe)]))])])),_:2},1032,["width"])],10,ne)))),128)),f(r,{trigger:"click",onShow:l[6]||(l[6]=e=>Ze.value.focus()),onHide:l[7]||(l[7]=e=>al.value=""),ref_key:"addGroupPopoverRef",ref:Xe,width:250},{reference:y((()=>[w("div",{style:{background:"rgba(63, 128, 247, 0.10)"},onClick:l[2]||(l[2]=e=>tl.value=void 0),class:"cursor-pointer text-12px color-[#3F80F7] px-12px py-4px rounded-4px shrink-0 flex items-center"},[f(a,{name:"custom:add-icon",class:"text-12px mr-2px"}),V(" "+C(k(qe)("newGroup")),1)])])),default:y((()=>[w("div",null,[w("div",null,C(k(qe)("newGroup")),1),f(t,{ref_key:"addGroupInputRef",ref:Ze,modelValue:al.value,"onUpdate:modelValue":l[3]||(l[3]=e=>al.value=e),placeholder:k(qe)("enterGroupName"),class:"mt-8px w-200px"},null,8,["modelValue","placeholder"]),w("div",he,[w("div",{onClick:l[4]||(l[4]=e=>{var l;return null==(l=Xe.value)?void 0:l.hide()}),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},C(k(qe)("cancel")),1),w("div",{onClick:l[5]||(l[5]=e=>(async()=>{var e;return al.value.trim()?al.value.length>20?I.error(qe("maximum10characters")):Qe.value.some((e=>e.label===al.value))?I.error(qe("groupExistT")):(await Z(al.value,xl.value),I.success(qe("success")),null==(e=Xe.value)||e.hide(),void yl()):I.error(qe("enterGroupName"))})()),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},C(k(qe)("confirm")),1)])])])),_:1},512),f(r,{trigger:"click",onHide:l[11]||(l[11]=e=>Ye.value=""),ref_key:"moveGroupPopoverRef",ref:ll,width:250},{reference:y((()=>[w("div",{style:{background:"rgba(63, 128, 247, 0.10)"},onClick:hl,class:"cursor-pointer text-12px color-[#3F80F7] px-12px py-4px rounded-4px shrink-0 flex items-center"},[f(a,{name:"custom:list-icon",class:"text-12px mr-2px"}),V(" "+C(k(qe)("groupManage")),1)])])),default:y((()=>[w("div",null,[w("div",null,C(k(qe)("groupManage")),1),f(t,{modelValue:Ye.value,"onUpdate:modelValue":l[8]||(l[8]=e=>Ye.value=e),class:"mt-8px",placeholder:k(qe)("enterGroupName")},null,8,["modelValue","placeholder"]),f(k(W),{modelValue:We.value,"onUpdate:modelValue":l[9]||(l[9]=e=>We.value=e),sort:!0,"ghost-class":"ghost",animation:300},{default:y((()=>[(m(!0),v(b,null,_(We.value.filter((e=>e.label.includes(Ye.value))),(e=>(m(),v("div",{class:"py-12px px-8px flex justify-between items-center hover:bg-[--d-2A2A2A-l-F2F2F2] cursor-move",key:e.value},[V(C(e.label)+" ",1),f(a,{name:"custom:move-icon",class:"text-16px"})])))),128))])),_:1},8,["modelValue"]),w("div",fe,[w("div",{onClick:l[10]||(l[10]=e=>{var l;return null==(l=ll.value)?void 0:l.hide()}),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},C(k(qe)("cancel")),1),w("div",{onClick:fl,class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},C(k(qe)("confirm")),1)])])])),_:1},512)])):g("",!0),h((m(),G(p,{class:"mt-12px",height:"calc(100vh - 250px)",data:pl.value,fit:"",onSortChange:bl,onRowClick:kl},{empty:y((()=>[ul.value?(m(),v("span",ye)):(m(),v("div",ke,["light"===k(dl)?(m(),v("img",be)):g("",!0),"dark"===k(dl)?(m(),v("img",_e)):g("",!0),w("span",null,C(k(qe)("emptyNoData")),1)]))])),default:y((()=>[f(n,{label:k(qe)("poolPair"),"min-width":"160","show-overflow-tooltip":""},{default:y((({row:t,$index:r})=>[f(o,{to:`/token/${t.token}-${t.chain}`,onClick:l[16]||(l[16]=z((()=>{}),["stop","prevent"]))},{default:y((()=>{var o,n,c,u,i,p;return[w("div",we,[w("span",Ce," #"+C((il.value.page-1)*il.value.pageSize+r+1),1),xl.value?(m(),G(a,{key:0,name:"material-symbols:kid-star",class:"color-var(--d-999-l-666) h-16px w-16px clickable shrink-0 color-#ffbb19",onClick:z((e=>(e=>{ul.value=!0,ee(`${e.token}-${e.chain}`,xl.value).then((()=>{_l()})).catch((e=>{})).finally((()=>{ul.value=!1}))})(t)),["stop","prevent"])},null,8,["onClick"])):g("",!0),w("div",Fe,[f(s,{class:"w-32px h-32px rounded-full",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:k(N))({chain:null==t?void 0:t.chain,symbol:t.symbol,logo_url:t.logo_url}),lazy:""},{error:y((()=>[w("img",{class:"w-32px h-32px rounded-full",src:k(R)(null==t?void 0:t.chain,t.symbol)},null,8,Ve)])),placeholder:y((()=>[w("img",{class:"w-32px h-32px rounded-full",src:k(R)(null==t?void 0:t.chain,t.symbol)},null,8,$e)])),_:2},1032,["src"]),(null==t?void 0:t.chain)?(m(),v("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-3px",src:`${k(D).token_logo_url}chain/${null==t?void 0:t.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,Se)):g("",!0)]),w("div",je,[w("div",Ge,[w("span",Ae,C(t.symbol),1),w("span",ze,"("+C("*"+(null==(o=t.token)?void 0:o.slice(-4)))+")",1),t.remark?(m(),v("span",{key:0,class:"text-[#3f80f7] border-[0.5px] border-solid border-[#3f80f7] rounded-4px bg-transparent text-10px ml-2px px-4px max-w-[60px] truncate",title:t.remark},C(t.remark),9,Be)):g("",!0),w("div",{ref:"buttonRef",onClick:z((e=>((e,l)=>{const a=l.currentTarget.getBoundingClientRect();ol.value={x:a.left+a.width/2,y:a.top+a.height/2},sl.value=!0,cl.value=e,rl.value=e.remark||""})(t,e)),["stop","prevent"])},[f(a,{class:"text-[--d-666-l-999] w-12px h-12px ml-4px",name:"custom:remark"})],8,Ne),w("a",{class:"ml-4px",href:`https://x.com/search?q=(${null==t?void 0:t.symbol}OR${null==t?void 0:t.token})&src=typed_query&f=live`,target:"_blank",onClick:l[12]||(l[12]=z((()=>{}),["stop"]))},[f(a,{class:"text-[--d-666-l-999] h-12px w-12px",name:"custom:search"})],8,Re)]),w("div",He,[w("div",Ue,C(null==(n=null==t?void 0:t.token)?void 0:n.replace(new RegExp("(.{4})(.+)(.{4}$)"),"$1...$3")),1),h(f(a,{onClick:l[13]||(l[13]=z((()=>{}),["stop","prevent"])),name:"bxs:copy",class:"ml-5px clickable text-[--d-666-l-999]"},null,512),[[L,null==t?void 0:t.token]]),h((m(),v("a",{class:"flex items-center",href:null==(c=vl(t))?void 0:c.twitter,target:"_blank",onClick:l[14]||(l[14]=z((()=>{}),["stop"]))},[f(a,{name:"custom:twitter",class:"text-[--d-666-l-999] h-14px w-14px"})],8,Ee)),[[ae,null==(u=vl(t))?void 0:u.twitter]]),h((m(),v("a",{class:"flex items-center",href:null==(i=vl(t))?void 0:i.telegram,target:"_blank",onClick:l[15]||(l[15]=z((()=>{}),["stop"]))},[f(a,{name:"custom:tg",class:"text-[--d-666-l-999] h-14px w-14px"})],8,Te)),[[ae,null==(p=vl(t))?void 0:p.telegram]])])])])]})),_:2},1032,["to"])])),_:1},8,["label"]),f(n,{label:k(qe)("holders"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"holders",align:"right"},{default:y((({row:e})=>[w("span",null,C(e.holders),1)])),_:1},8,["label"]),f(n,{label:k(qe)("price"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"current_price_usd",align:"right"},{default:y((({row:e})=>[w("span",{innerHTML:"$"+k(H)(e.current_price_usd)},null,8,Ie)])),_:1},8,["label"]),f(n,{label:"24h%",sortable:"custom","sort-orders":["descending","ascending",null],prop:"price_change_24h",align:"right"},{default:y((({row:e})=>[Number(e.price_change_24h||0)>0?(m(),v("span",Le," +"+C(k(H)(e.price_change_24h||0,2))+"% ",1)):0==Number(e.price_change_24h||0)?(m(),v("span",Pe," 0% ")):(m(),v("span",De,C(k(H)(e.price_change_24h||0,2))+"%",1))])),_:1}),f(n,{label:k(qe)("riskScore"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"risk_score",align:"right"},{default:y((({row:e})=>[f(c,{to:{path:`/check/${e.token}-${e.chain}`},onClick:l[17]||(l[17]=z((()=>{}),["stop"]))},{default:y((()=>[f(Y,{progress:Number(e.risk_score/100)||0,width:40,thickness:2,big:!1,height:20,textHeight:15,end:!0,fontSize:"12px",colorList:["#eaecef","#108D68","#C26B03","#BB3749"],class:"arc-progress"},null,8,["progress"])])),_:2},1032,["to"])])),_:1},8,["label"]),f(n,{label:k(qe)("24Volume"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"tx_volume_u_24h",align:"right"},{default:y((({row:e})=>[V(" $"+C(k(H)((null==e?void 0:e.tx_volume_u_24h)||0,2,4,1e4)),1)])),_:1},8,["label"]),f(n,{label:k(qe)("24TxAddress"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"tx_count_24h",align:"right"},{default:y((({row:e})=>[V(C(k(H)((null==e?void 0:e.tx_count_24h)||0,2,4,1e4)),1)])),_:1},8,["label"]),f(n,{label:k(qe)("tokenGroup"),align:"right"},{default:y((({row:e})=>[f(i,{modelValue:e.group_id,"onUpdate:modelValue":l=>e.group_id=l,onClick:l[18]||(l[18]=z((()=>{}),["stop"])),onChange:l=>(async(e,l)=>{const a=l.token+"-"+l.chain;await le(a,e,xl.value),_l()})(l,e)},{default:y((()=>[(m(!0),v(b,null,_(Ke.value,(e=>(m(),G(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),_:1},8,["label"])])),_:1},8,["data"])),[[te,ul.value]]),f(T,{class:"mt-15px","current-page":il.value.page,"onUpdate:currentPage":l[19]||(l[19]=e=>il.value.page=e),"page-size":il.value.pageSize,"onUpdate:pageSize":l[20]||(l[20]=e=>il.value.pageSize=e),layout:"prev, pager, next, ->",total:il.value.total,"page-sizes":[10,20,30,40,50,60]},null,8,["current-page","page-size","total"]),f(r,{visible:sl.value,"virtual-ref":nl.value,"virtual-triggering":"",trigger:"click",width:250},{default:y((()=>[w("div",null,[w("div",null,C(k(qe)("editRemark")),1),f(t,{modelValue:rl.value,"onUpdate:modelValue":l[21]||(l[21]=e=>rl.value=e),maxlength:"50","show-word-limit":"",placeholder:k(qe)("enterRemark"),class:"mt-8px w-200px"},null,8,["modelValue","placeholder"]),w("div",Me,[w("div",{onClick:l[22]||(l[22]=e=>sl.value=!1),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},C(k(qe)("cancel")),1),w("div",{onClick:l[23]||(l[23]=e=>(async e=>{if(rl.value.length>50)return I.error(qe("remarkError"));const l=e.token+"-"+e.chain;await X(l,rl.value,xl.value),I.success(qe("success")),sl.value=!1,_l()})(cl.value)),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},C(k(qe)("confirm")),1)])])])),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-bba61002"]]);export{Oe as default};
