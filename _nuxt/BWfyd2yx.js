import{f as e,a7 as l,q as a,lY as t,bl as s,a9 as i,i as o,c as n,o as r,F as u,bD as c,b as d,H as v,I as p,bk as m,j as x,R as y,w as f,a as g,cs as h,t as b,B as k,L as _,ab as w,ac as T,N as S,b5 as F,gv as A,d as $,b4 as B,lZ as L,l_ as j,l$ as C,m0 as D,m1 as z,m2 as R,fp as I,m3 as U,m4 as Y,m5 as H,m6 as M,_ as V,g as O,p as P,s as q,l as E,b9 as N,h as X,z as W,x as G,C as Z,D as J,G as K,n as Q,df as ee,a3 as le,fw as ae,Y as te,Z as se,cA as ie,m7 as oe,m8 as ne,r as re,ba as ue,E as ce,cP as de}from"./BArbQupS.js";import{E as ve,a as pe}from"./C0-q3wA8.js";import{b as me,c as xe,d as ye}from"./C5oUYSqU.js";import"./RPgn-SFc.js";import"./DiUQ5gHK.js";import{s as fe}from"./DSXY0Md2.js";import"./F5y5-Ggc.js";const ge=["src"],he={class:"inline-block"},be={class:"flex flex-col"},ke={class:"mt-5px block ml-auto text-10px color-#fff m-w-180px text-center"},_e={class:"flex items-center justify-start mt-40px"},we={class:"icon-token-container share",style:{"margin-right":"10px"}},Te=["src"],Se=["src"],Fe=["src"],Ae={class:"text-20px"},$e={class:"mt-5px text-[#666] block"},Be={class:"mt-15px"},Le={class:"text-[#999]"},je={class:"mt-20px share-table"},Ce={key:1,style:{color:"#999"}},De={key:1,style:{color:"#999"}},ze={key:1,style:{color:"#999"}},Re={key:1,style:{color:"#999"}},Ie={class:"absolute right-30px bottom-30px flex justify-end text-center"},Ue={class:"text-right mt-10px"},Ye={class:"text-20px font-semibold block"},He={class:"text-12px mt-10px"},Me={class:"ml-10px"},Ve=["src","alt"],Oe={class:"text-14px font-400 mt-5px block"},Pe={class:"flex justify-between mx-auto mt-20px text-12px w-300px color-#999"},qe={class:"mt-8px"},Ee=V(e({__name:"share",props:{statistics:{type:Object,required:!0},address:{type:String,required:!0},chain:{type:String,required:!0}},setup(e){const V=e,O=l(),P=a(!1),q=t("shareDom"),E=a(""),N=a(""),X=s(),W=i(),G=o((()=>{var e;return{ups:W.globalConfig.pc_share_image.replace(/^.*\|/,"").split(",").map((e=>W.token_logo_url+"pc_share/"+e)),downs:(null==(e=W.globalConfig.pc_share_image)?void 0:e.replace(/\|.*$/,"")).split(",").map((e=>W.token_logo_url+"pc_share/"+e))}})),Z=a();async function J(){var e,l,a;const t={token:2===(null==(e=V.statistics)?void 0:e.swapType)?null==(l=V.statistics)?void 0:l.inTokenAddress:V.statistics.outTokenAddress,acc:V.address},s=await R({...t});Z.value={...V.statistics,...s,profitRate:null==s?void 0:s.profit_realized_ratio},P.value=!0,function(){const e=W.globalConfig.inviter_url_v2||"https://share.ave.ai",l=I.get("refCode")||"",a=l?"&code="+l:"",t=e+"?lang="+X.locale+a;U.toDataURL(t,{margin:1}).then((e=>{N.value=e})).catch((e=>{}))}(),function(e=!1){const l=e?G.value.ups:G.value.downs,a=(t=1,s=l.length,Math.floor(Math.random()*(s-t+1))+t);var t,s;E.value=l[a]||(e?Y:H)}(Number(null==(a=V.statistics)?void 0:a.total_profit_ratio)>0)}function K(){q.value&&M(q.value,{backgroundColor:null,scale:3,allowTaint:!0,useCORS:!0,scrollY:0,scrollX:0}).then((e=>{!function(e,l){let a="";a="string"==typeof e?e:URL.createObjectURL(e);const t=document.createElement("a");t.href=a,t.download=l,t.click(),window.URL.revokeObjectURL(a)}(e.toDataURL("image/png"),`ave-${Date.now()}.png`)}))}return(e,l)=>{const a=v,t=_,s=m;return r(),n(u,null,[c(e.$slots,"default",{},(()=>[d(a,{name:"custom:share",class:"text-12px color-[--d-999-l-666] ml-6px cursor-pointer",onClick:p(J,["self","stop"])})]),!0),d(s,{modelValue:x(P),"onUpdate:modelValue":l[2]||(l[2]=e=>y(P)?P.value=e:null),title:e.$t("share"),width:"628","append-to-body":""},{default:f((()=>{var a,s,i,o,c,v,m,y,_,R,I,U,Y,H,M,V,P,X,G,J;return[g("div",null,[g("div",{ref_key:"shareDom",ref:q,class:"relative p-25px z-1"},[g("img",{class:"absolute w-588px left--1px top--1px z--1 h-[101%]",src:x(E),alt:"share"},null,8,ge),g("div",he,[g("div",be,[l[3]||(l[3]=g("div",{class:"flex items-center"},[g("img",{src:h,class:"h-24px",height:"24",alt:"",srcset:""}),g("span",{class:"ml-5px text-20px"},"Ave.ai")],-1)),g("span",ke,b(e.$t("campaignTitle")),1)])]),g("div",_e,[g("div",we,[d(t,{class:"token-icon token-logo",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:x(w))({logo_url:2===x(Z).swapType?null==(a=x(Z))?void 0:a.inTokenLogoUrl:x(Z).outTokenLogoUrl,chain:x(Z).chain,symbol:2===x(Z).swapType?null==(s=x(Z))?void 0:s.inTokenSymbol:x(Z).outTokenSymbol})},{error:f((()=>{var e,l;return[g("img",{class:"token-icon",src:x(T)(null==(e=x(Z))?void 0:e.chain,2===x(Z).swapType?null==(l=x(Z))?void 0:l.inTokenSymbol:x(Z).outTokenSymbol),alt:"",srcset:""},null,8,Te)]})),placeholder:f((()=>{var e,l;return[g("img",{class:"token-icon",src:x(T)(null==(e=x(Z))?void 0:e.chain,2===x(Z).swapType?null==(l=x(Z))?void 0:l.inTokenSymbol:x(Z).outTokenSymbol),alt:"",srcset:""},null,8,Se)]})),_:1},8,["src"]),(null==(i=x(Z))?void 0:i.chain)?(r(),n("img",{key:0,class:"w-12px h-12px relative left-[-7px]",src:`${x(W).token_logo_url}chain/${x(Z).chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,Fe)):k("",!0)]),g("span",Ae,b(2===x(Z).swapType?null==(o=x(Z))?void 0:o.inTokenSymbol:x(Z).outTokenSymbol),1)]),g("span",$e,b((null==(m=null==(v=null==(c=x(O))?void 0:c.userInfo)?void 0:v.evmAddress)?void 0:m.slice(0,6))+"..."+(null==(R=null==(_=null==(y=x(O))?void 0:y.userInfo)?void 0:_.evmAddress)?void 0:R.slice(-6))),1),g("div",Be,[g("span",Le,b(e.$t("RIO")),1),(null==(I=x(Z))?void 0:I.profitRate)?(r(),n("div",{key:0,class:"mt-5px",style:S([{"font-size":"40px","font-weight":"700"},{color:(null==(U=x(Z))?void 0:U.profitRate)>0?"#12B886":"#ff646d"}])},b((null==(Y=x(Z))?void 0:Y.profitRate)>0?"+":"")+b(x(F)((null==(H=x(Z))?void 0:H.profitRate)||0,1))+"%",5)):(r(),n("div",{key:1,class:"mt-5px",style:S([{"font-size":"40px","font-weight":"700"},{color:"#999"}])},"--"))]),g("table",je,[g("tbody",null,[g("tr",null,[g("td",{style:S({width:x(A)(e.$t("campaignBuyAvg"))+20+"px"})},b(e.$t("campaignBuyAvg")),5),g("td",null,[(null==(M=x(Z))?void 0:M.avg_buy_price)>0?(r(),n(u,{key:0},[$(" $"+b(x(F)((null==(V=x(Z))?void 0:V.avg_buy_price)||0)),1)],64)):(r(),n("span",Ce,"--"))])]),g("tr",null,[g("td",{style:S({width:x(A)(e.$t("campaignSellAvg"))+20+"px"})},b(e.$t("campaignSellAvg")),5),g("td",null,[(null==(P=x(Z))?void 0:P.avg_sell_price)>0?(r(),n(u,{key:0},[$(" $"+b(x(F)((null==(X=x(Z))?void 0:X.avg_sell_price)||0)),1)],64)):(r(),n("span",De,"--"))])]),g("tr",null,[g("td",{style:S({width:x(A)(e.$t("campaignBuyTime"))+20+"px"})},b(e.$t("campaignBuyTime")),5),g("td",null,[(null==(G=x(Z))?void 0:G.last_buy_time)?(r(),n(u,{key:0},[$(b(x(B)(x(Z).last_buy_time,"YYYY-MM-DD HH:mm:ss")),1)],64)):(r(),n("span",ze,"--"))])]),g("tr",null,[g("td",{style:S({width:x(A)(e.$t("campaignSellTime"))+20+"px"})},b(e.$t("campaignSellTime")),5),g("td",null,[(null==(J=x(Z))?void 0:J.last_sell_time)?(r(),n(u,{key:0},[$(b(x(B)(x(Z).last_sell_time,"YYYY-MM-DD HH:mm:ss")),1)],64)):(r(),n("span",Re,"--"))])])])]),g("div",Ie,[g("div",Ue,[g("span",Ye,b(e.$t("campaignSubTitle")),1),g("span",He,b(e.$t("campaignDesc")),1)]),g("div",Me,[g("img",{src:x(N),alt:e.$t("campaignScan"),width:"60px",height:"60px"},null,8,Ve),g("span",Oe,b(e.$t("campaignScan")),1)])])],512),g("div",Pe,[g("div",{class:"flex-col flex items-center cursor-pointer",onClick:p(K,["stop"])},[l[4]||(l[4]=g("img",{src:L,height:"48",alt:"",srcset:""},null,-1)),g("span",qe,b(e.$t("download")),1)]),g("div",{class:"flex-col flex items-center cursor-pointer",onClick:l[0]||(l[0]=p(((...l)=>("jumpX"in e?e.jumpX:x(j))&&("jumpX"in e?e.jumpX:x(j))(...l)),["stop"]))},l[5]||(l[5]=[g("img",{src:C,height:"48",alt:"",srcset:""},null,-1),g("span",{class:"mt-8px"},"Twitter",-1)])),g("div",{class:"flex-col flex items-center cursor-pointer",onClick:l[1]||(l[1]=p(((...l)=>("jumpTg"in e?e.jumpTg:x(D))&&("jumpTg"in e?e.jumpTg:x(D))(...l)),["stop"]))},l[6]||(l[6]=[g("img",{src:z,height:"48",alt:"",srcset:""},null,-1),g("span",{class:"mt-8px"},"Telegram",-1)]))])])]})),_:1},8,["modelValue","title"])],64)}}}),[["__scopeId","data-v-4dc403e5"]]),Ne={key:0,class:"flex flex-col items-center justify-center py-30px"},Xe={key:0,src:te},We={key:1,src:se},Ge={key:1},Ze={class:"flex items-center justify-start"},Je={class:"icon-token-container mr-5px"},Ke={class:"relative"},Qe=["src"],el=["src"],ll=["src"],al={class:"text-[var(--d-eaecef-l-333333)] text-13px"},tl={class:"flex flex-row-reverse"},sl={class:"flex items-center"},il={key:0,style:{background:"rgba(18, 184, 134, 0.10)"},class:"text-13px text-center text-[#12B886] px-5px py-2px rounded-4px"},ol={key:1,style:{background:"rgba(246, 70, 93, 0.10)"},class:"text-13px text-center text-[#F6465D] px-5px py-2px rounded-4px"},nl={class:"text-[var(--d-999-l-959A9F)] text-right"},rl={class:"text-[var(--d-999-l-959A9F)] text-right"},ul={class:"text-[var(--d-999-l-959A9F)] text-right"},cl={class:"flex flex-row-reverse"},dl={class:"flex items-center"},vl={class:"text-[var(--d-999-l-959A9F)] text-right truncate"},pl={key:0},ml={key:1,style:{color:"var(--color-red-500)","word-break":"break-all"}},xl={key:2},yl={key:3},fl={key:4,style:{color:"var(--custom-text-1-color)"}},gl={class:"text-[var(--d-999-l-959A9F)] text-right"},hl={class:"flex items-center flex-row-reverse"},bl=V(e({__name:"unified",props:{chain:{type:String,required:!0},currentToken:{type:Boolean,required:!0},userAddress:{type:String,required:!0}},setup(e,{expose:t}){const{formatUnits:s}=ee,c=e,m=l(),y=O(),h=P(),{mode:S}=q(E()),A=N(),{t:L}=X(),j=i(),C=a({isLimit:void 0,isBuy:void 0,statusType:""}),D=a([]),z=a(!1),R=o((()=>Math.max(A.commonHeight-360,450)));function I(e){"all"===e?(C.value.isBuy=void 0,C.value.isLimit=void 0):"LimitSell"===e?(C.value.isBuy=0,C.value.isLimit=1):"LimitBuy"===e?(C.value.isBuy=1,C.value.isLimit=1):"MarketSell"===e?(C.value.isBuy=0,C.value.isLimit=0):"MarketBuy"===e&&(C.value.isBuy=1,C.value.isLimit=0),H()}function U(e){C.value.statusType="all"===e?"":e,H()}function Y(e){const l=2===e.swapType||6===e.swapType?null==e?void 0:e.inTokenAddress:e.outTokenAddress;l&&h.push(`/token/${l}-${e.chain}`)}W([()=>c.chain,()=>c.currentToken],(()=>{H()}));const H=async()=>{var e;z.value=!0;try{const l=await oe({page:0,pageSize:1e3,chain:c.chain,walletAddress:c.userAddress,token:c.currentToken?String(y.params.id).split("-")[0]:"",timeSort:!0,tradeVolumeSort:!1,isSuccess:!1,status:C.value.statusType,isLimit:C.value.isLimit,isBuy:C.value.isBuy,tgUid:null==(e=null==m?void 0:m.userInfo)?void 0:e.tgUid,minTradeVolume:0,maxTradeVolume:1e5});D.value=l||[]}catch(l){}finally{z.value=!1}};return G((()=>{H()})),t({getTxHistory:H}),(e,l)=>{var a;const t=_,i=ve,o=v,m=ye,y=xe,h=me,A=pe,H=J;return r(),n("div",null,[Z((r(),K(A,{data:D.value,fit:"",stripe:"",height:x(R),style:{width:"100%"},onRowClick:Y},{empty:f((()=>[z.value?(r(),n("span",Ge)):(r(),n("div",Ne,["light"===x(S)?(r(),n("img",Xe)):k("",!0),"dark"===x(S)?(r(),n("img",We)):k("",!0),g("span",null,b(x(L)("emptyNoData")),1)]))])),default:f((()=>[d(i,{label:x(L)("token"),align:"left"},{default:f((({row:e})=>[g("div",Ze,[g("div",Je,[g("div",Ke,[d(t,{class:"w-32px h-32px rounded-full",src:x(w)({chain:null==e?void 0:e.chain,symbol:2===e.swapType||6===e.swapType?null==e?void 0:e.inTokenSymbol:e.outTokenSymbol,logo_url:2===e.swapType||6===e.swapType?null==e?void 0:e.inTokenLogoUrl:e.outTokenLogoUrl})},{error:f((()=>[g("img",{class:"w-32px h-32px",src:x(T)(null==e?void 0:e.chain,2===e.swapType||6===e.swapType?null==e?void 0:e.inTokenSymbol:e.outTokenSymbol),alt:"",srcset:""},null,8,Qe)])),placeholder:f((()=>[g("img",{class:"w-32px h-32px",src:x(T)(null==e?void 0:e.chain,2===e.swapType||6===e.swapType?null==e?void 0:e.inTokenSymbol:e.outTokenSymbol),alt:"",srcset:""},null,8,el)])),_:2},1032,["src"]),(null==e?void 0:e.chain)?(r(),n("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-3px",src:`${x(j).token_logo_url}chain/${e.chain}.png`,alt:"",srcset:""},null,8,ll)):k("",!0)])]),g("span",al,b(2===e.swapType||6===e.swapType?null==e?void 0:e.inTokenSymbol:e.outTokenSymbol),1)])])),_:1},8,["label"]),d(i,{label:x(L)("type"),align:"right",prop:"isBuy"},{header:f((()=>[g("div",tl,[g("div",sl,[g("div",null,b(x(L)("type")),1),d(h,{trigger:"click",onCommand:I},{dropdown:f((()=>[d(y,null,{default:f((()=>[d(m,{command:"all"},{default:f((()=>[$(b(x(L)("all")),1)])),_:1}),d(m,{class:Q([0===C.value.isBuy&&1===C.value.isLimit&&"active-dropdown-item"]),command:"LimitSell"},{default:f((()=>[$(b(x(L)("limit"))+"/"+b(x(L)("sell")),1)])),_:1},8,["class"]),d(m,{class:Q([1===C.value.isBuy&&1===C.value.isLimit&&"active-dropdown-item"]),command:"LimitBuy"},{default:f((()=>[$(b(x(L)("limit"))+"/"+b(x(L)("buy")),1)])),_:1},8,["class"]),d(m,{class:Q([0===C.value.isBuy&&0===C.value.isLimit&&"active-dropdown-item"]),command:"MarketSell"},{default:f((()=>[$(b(x(L)("market"))+"/"+b(x(L)("sell")),1)])),_:1},8,["class"]),d(m,{class:Q([1===C.value.isBuy&&0===C.value.isLimit&&"active-dropdown-item"]),command:"MarketBuy"},{default:f((()=>[$(b(x(L)("market"))+"/"+b(x(L)("buy")),1)])),_:1},8,["class"])])),_:1})])),default:f((()=>{var e,l;return[d(o,{name:"custom:filter",class:Q([[(null==(e=C.value)?void 0:e.isBuy)>=0&&(null==(l=C.value)?void 0:l.isLimit)>=0&&"color-#286DFF"],"color-[--d-666-l-999] cursor-pointer text-10px"])},null,8,["class"])]})),_:1})])])])),default:f((({row:e})=>[1===e.swapType||5===e.swapType?(r(),n("div",il,b(1===e.swapType?x(L)("market"):x(L)("limit"))+"/"+b(x(L)("buy")),1)):k("",!0),2===e.swapType||6===e.swapType?(r(),n("div",ol,b(2===e.swapType?x(L)("market"):x(L)("limit"))+"/"+b(x(L)("sell")),1)):k("",!0)])),_:1},8,["label"]),d(i,{label:x(L)("price"),align:"right"},{default:f((({row:e})=>[g("div",nl,"$"+b(1===(null==e?void 0:e.swapType)?x(F)((null==e?void 0:e.outPrice)||0):x(F)((null==e?void 0:e.inPrice)||0)),1)])),_:1},8,["label"]),d(i,{label:x(L)("volume4"),align:"right"},{default:f((({row:e})=>[g("div",rl,"$"+b(x(F)(Number(null==e?void 0:e.inValue)||(null==e?void 0:e.outValue)||0,2)),1)])),_:1},8,["label"]),d(i,{label:x(L)("amount1"),align:"right"},{header:f((()=>[g("span",null,b(x(L)("amount1")),1)])),default:f((({row:e})=>[g("span",ul,[2===e.swapType||6===e.swapType?(r(),n(u,{key:0},[$(b(x(F)(x(s)(new(x(le))((null==e?void 0:e.inAmount)||0).toFixed(0),e.inTokenDecimals||0).toString(),4))+" "+b(null==e?void 0:e.inTokenSymbol),1)],64)):(r(),n(u,{key:1},[$(b(x(F)(x(s)(new(x(le))((null==e?void 0:e.outAmount)||0).toFixed(0),e.outTokenDecimals||0).toString(),4))+" "+b(null==e?void 0:e.outTokenSymbol),1)],64))])])),_:1},8,["label"]),d(i,{label:x(L)("status"),align:"right"},{header:f((()=>[g("div",cl,[g("div",dl,[g("div",null,b(x(L)("status")),1),d(h,{trigger:"click",onCommand:U},{dropdown:f((()=>[d(y,null,{default:f((()=>[d(m,{command:"all"},{default:f((()=>[$(b(x(L)("all")),1)])),_:1}),d(m,{class:Q(["confirmed"===C.value.statusType&&"active-dropdown-item"]),command:"confirmed"},{default:f((()=>[$(b(x(L)("completed")),1)])),_:1},8,["class"]),d(m,{class:Q(["cancelled"===C.value.statusType&&"active-dropdown-item"]),command:"cancelled"},{default:f((()=>[$(b(x(L)("cancelled1")),1)])),_:1},8,["class"]),d(m,{class:Q(["error"===C.value.statusType&&"active-dropdown-item"]),command:"error"},{default:f((()=>[$(b(x(L)("failed")),1)])),_:1},8,["class"]),d(m,{class:Q(["auto_cancelled"===C.value.statusType&&"active-dropdown-item"]),command:"auto_cancelled"},{default:f((()=>[$(b(x(L)("autoCancelled")),1)])),_:1},8,["class"])])),_:1})])),default:f((()=>[d(o,{name:"custom:filter",class:Q([[C.value.statusType&&"color-#286DFF"],"color-[--d-666-l-999] cursor-pointer text-10px"])},null,8,["class"])])),_:1})])])])),default:f((({row:l})=>[g("div",vl,["confirmed"===l.status?(r(),n("span",pl,b(x(L)("completed")),1)):"error"===l.status?(r(),n("span",ml,[$(b(x(L)("failed")),1),(null==l?void 0:l.errorLog)?(r(),n(u,{key:0},[$("("+b(("formatBotError"in e?e.formatBotError:x(ae))(null==l?void 0:l.errorLog))+")",1)],64)):k("",!0)])):"cancelled"===l.status?(r(),n("span",xl,b(x(L)("cancelled1")),1)):"auto_cancelled"===l.status?(r(),n("span",yl,b(x(L)("autoCancelled")),1)):(r(),n("span",fl,b(x(L)("pending")),1))])])),_:1},8,["label"]),d(i,{label:x(L)("CreateTime"),align:"right"},{default:f((({row:e})=>[g("span",gl,b(x(B)(e.createTime,"YYYY/MM/DD HH:mm")),1)])),_:1},8,["label"]),d(i,{label:x(L)("operate"),align:"right"},{default:f((({row:e})=>[g("div",hl,[d(o,{name:"custom:browser",class:"text-16px ml-8px clickable color-[--d-999-l-666]",onClick:p((l=>function(e){e.txHash&&window.open(ie(e.chain,e.txHash,"tx"))}(e)),["stop","prevent"])},null,8,["onClick"]),"confirmed"==e.status&&2===e.swapType&&"solana"===e.chain?(r(),K(Ee,{key:0,statistics:e,address:c.userAddress,chain:e.chain},null,8,["statistics","address","chain"])):k("",!0)])])),_:1},8,["label"])])),_:1},8,["data","height"])),[[H,z.value&&!(null==(a=D.value)?void 0:a.length)]])])}}}),[["__scopeId","data-v-af497985"]]),kl={class:"px-12px mb-10px flex justify-between"},_l={class:"flex items-center whitespace-nowrap w-[80%] overflow-x-auto scrollbar-hide"},wl=["onClick"],Tl={class:"flex items-center gap-3"},Sl={class:"transaction-stats"},Fl={class:"stat-item"},Al={class:"stat-label text-[var(--d-666-l-999)]"},$l={class:"stat-value table-field-text text-[var(--d-999-l-959A9F)]"},Bl={class:"stat-change table-field-text text-[var(--d-999-l-959A9F)]"},Ll={class:"stat-item"},jl={class:"stat-label text-[var(--d-666-l-999)]"},Cl={class:"stat-item"},Dl={class:"stat-label text-[var(--d-666-l-999)]"},zl={class:"stat-item"},Rl={class:"stat-label text-[var(--d-666-l-999)]"},Il={class:"stat-item"},Ul={class:"stat-label text-[var(--d-666-l-999)]"},Yl={class:"stat-value token-amount table-field-text text-[var(--d-999-l-959A9F)]"},Hl={class:"stat-change table-field-text text-[var(--d-999-l-959A9F)]"},Ml={class:"stat-item"},Vl={class:"stat-label text-[var(--d-666-l-999)]"},Ol={class:"stat-value token-amount table-field-text text-[var(--d-999-l-959A9F)]"},Pl={class:"stat-change table-field-text text-[var(--d-999-l-959A9F)]"},ql=V(e({__name:"index",setup(e){const t=l(),{t:s}=X(),i=N(),c=O(),v=a(),p=a("solana"),m=ne("mySwapBotOrderOnlyCurrentToken",!0),f=a(),h=o((()=>{var e;return[...(null==(e=t.userInfo)?void 0:e.addresses)||[]].sort(((e,l)=>"solana"===e.chain?-1:"solana"===l.chain?1:"bsc"===e.chain?-1:"bsc"===l.chain?1:0))})),k=o((()=>f.value?parseFloat(f.value.balance_usd||0):0)),_=o((()=>f.value?parseFloat((100*f.value.balance_ratio).toString()||"0"):0)),w=o((()=>f.value?parseFloat(f.value.total_profit||0):0)),T=o((()=>f.value?parseFloat((100*f.value.total_profit_ratio).toString()||"0"):0)),A=o((()=>{var e,l;return f.value?f.value.symbol:null==(l=null==(e=i.tokenInfo)?void 0:e.token)?void 0:l.symbol})),B=o((()=>f.value?parseFloat((f.value.realized_profit||0).toString()||"0"):0)),L=o((()=>f.value&&"--"!==f.value.realized_ratio?parseFloat((100*f.value.realized_ratio).toString()||"0"):0)),j=o((()=>f.value?parseFloat(f.value.unrealized_profit||0):0)),C=o((()=>f.value?parseFloat((100*f.value.unrealized_ratio).toString()||"0"):0)),D=o((()=>f.value&&f.value.total_purchase>0?F(f.value.bought,4):"0")),z=o((()=>{const e=f.value?parseFloat(f.value.average_purchase_price_usd||0):0;return e>0?`$${F(e,8)}`:"--"})),R=o((()=>f.value&&f.value.total_sold>0?F(f.value.sold||0,4):"0")),I=o((()=>{const e=f.value&&"--"!==f.value.average_sold_price_usd?parseFloat(f.value.average_sold_price_usd||0):0;return e>0?`$${F(e,8)}`:"--"})),U=o((()=>{var e,l;return(null==(e=null==t?void 0:t.userInfo)?void 0:e.evmAddress)?null==(l=h.value.find((e=>(null==e?void 0:e.chain)===p.value)))?void 0:l.address:localStorage.getItem("currentAccount")}));const Y=e=>e.startsWith("-")?e.slice(1):e,H=async()=>{if(!["solana","bsc"].includes(p.value))return void(f.value=null);const e=String(c.params.id).split("-")[0];if(!U.value||!e)return;const l={user_address:U.value,chain:p.value,user_token:e},a=await de(l);f.value=a[0]};let M,V=0;return W([()=>i.placeOrderSuccess],(()=>{var e;const l=String(c.params.id).split("-")[1];h.value.find((e=>(null==e?void 0:e.chain)===l))&&(p.value=l),H(),null==(e=v.value)||e.getTxHistory(),M?V=0:M=fe((()=>{if(V>=15)return clearInterval(M),M=null,void(V=0);H(),V+=1}),2e3)})),W([()=>c.params.id],(()=>{var e;const l=String(c.params.id).split("-")[1];h.value.find((e=>(null==e?void 0:e.chain)===l))&&(p.value=l),H(),null==(e=v.value)||e.getTxHistory()})),G((()=>{const e=String(c.params.id).split("-")[1];h.value.find((l=>(null==l?void 0:l.chain)===e))&&(p.value=e),H()})),(e,l)=>{var a;const t=ce;return r(),n("div",null,[g("div",kl,[g("div",_l,[(r(!0),n(u,null,re(h.value,(e=>(r(),n("a",{key:e.chain,href:"javascript:;",class:Q("decoration-none shrink-0 text-12px lh-16px text-center color-[--d-999-l-666] px-12px py-4px rounded-4px\n          "+(p.value===e.chain?"bg-[--d-222-l-F2F2F2] color-[--d-F5F5F5-l-333]":"")),onClick:l=>{return a=e.chain,p.value=a,void H();var a}},b(x(ue)(e.chain).name),11,wl)))),128))]),g("div",Tl,[d(t,{modelValue:x(m),"onUpdate:modelValue":l[0]||(l[0]=e=>y(m)?m.value=e:null),label:x(s)("currentToken"),size:"small",style:{"font-size":"12px",color:"var(--d-666-l-333)"}},null,8,["modelValue","label"])])]),g("div",Sl,[g("div",Fl,[g("div",Al,b(x(s)("balance1")),1),g("div",$l,"$"+b(x(F)(k.value,2)),1),g("div",Bl,[$(b(x(F)((null==(a=f.value)?void 0:a.balance_amount)||0,4))+" "+b(A.value)+" ",1),g("span",{style:S({color:_.value>=0?"#12B886":"#ff646d"})}," ("+b(_.value>=0?"+":"")+b(x(F)(_.value,2))+"%) ",5)])]),g("div",Ll,[g("div",jl,b(x(s)("totalProfit")),1),g("div",{class:"stat-value table-field-text text-[var(--d-999-l-959A9F)]",style:S({color:w.value>=0?"#12B886":"#ff646d"})},b(w.value>=0?"+":"-")+"$"+b(Y(x(F)(w.value,2))),5),g("div",{class:"stat-change text-[var(--d-999-l-959A9F)]",style:S({color:T.value>=0?"#12B886":"#ff646d"})},b(T.value>=0?"+":"")+b(x(F)(T.value,2))+"% ",5)]),g("div",Cl,[g("div",Dl,b(x(s)("realizedProfit")),1),g("div",{class:"stat-value table-field-text text-[var(--d-999-l-959A9F)]",style:S({color:B.value>=0?"#12B886":"#ff646d"})},b(B.value>=0?"+":"-")+"$"+b(Y(x(F)(B.value,2))),5),g("div",{class:"stat-change text-[var(--d-999-l-959A9F)]",style:S({color:L.value>=0?"#12B886":"#ff646d"})},b(L.value>=0?"+":"")+b(x(F)(L.value,2))+"% ",5)]),g("div",zl,[g("div",Rl,b(x(s)("unrealizedProfit")),1),g("div",{class:"stat-value table-field-text text-[var(--d-999-l-959A9F)]",style:S({color:j.value>=0?"#12B886":"#ff646d"})},b(j.value>=0?"+":"-")+"$"+b(Y(x(F)(j.value,2))),5),g("div",{class:"stat-change text-[var(--d-999-l-959A9F)]",style:S({color:C.value>=0?"#12B886":"#ff646d"})},b(C.value>=0?"+":"")+b(x(F)(C.value,2))+"% ",5)]),g("div",Il,[g("div",Ul,b(x(s)("buyPriceWithSlash")),1),g("div",Yl,b(D.value)+" "+b(A.value),1),g("div",Hl,b(z.value),1)]),g("div",Ml,[g("div",Vl,b(x(s)("sellPriceWithSlash")),1),g("div",Ol,b(R.value)+" "+b(A.value),1),g("div",Pl,b(I.value),1)])]),d(bl,{ref_key:"unifiedRef",ref:v,chain:p.value,currentToken:x(m),userAddress:U.value||""},null,8,["chain","currentToken","userAddress"])])}}}),[["__scopeId","data-v-7140718e"]]);export{ql as default};
