import{f as e,a7 as a,a8 as s,p as t,h as l,q as r,s as o,l as n,i,z as d,x as c,A as u,c as p,o as m,C as v,b as x,D as _,G as g,w as h,j as f,a as w,t as k,H as y,I as b,n as C,U as S,af as F,ag as j,W as z,V as B,d as $,B as A,Y as T,Z as R,S as E,Q as H,a0 as N,ah as Y,ai as D,aj as M,$ as U,ak as V,a3 as I,_ as W}from"./BArbQupS.js";import{E as G,a as Q}from"./C0-q3wA8.js";import{E as q}from"./h9fNpKGN.js";import"./RPgn-SFc.js";import"./DiUQ5gHK.js";import"./BDaXgDLK.js";import{f as J}from"./DfNTDuPk.js";import"./F5y5-Ggc.js";const K={key:0,class:"flex flex-col items-center justify-center py-30px"},O={key:0,src:T},P={key:1,src:R},Z={key:1},L={class:"flex items-center"},X={class:"text-[#848E9C] text-12px mr-5px"},ee={class:"ml-5px"},ae={class:"flex items-center"},se={class:"text-14px max-w-[95px] truncate"},te=["onClick"],le={class:"flex items-center mt-2px"},re={class:"text-[#666]"},oe={key:0},ne={key:1,class:"text-[#666]"},ie={key:0},de={key:1,class:"text-[#666]"},ce=["href"],ue=["onClick"],pe={class:"overflow-hidden whitespace-nowrap max-w-0 group-hover:max-w-[100px] transition-all duration-500 ease-in-out"},me={key:1,class:"flex items-center mr-12px color-[#666] cursor-not-allowed"},ve={class:"flex items-center justify-between mt-12px gap-12px"},xe=W(e({__name:"index",setup(e){const T=a(),R=s(),W=t(),{t:xe}=l(),_e=r(""),ge=r(!1),he=r({x:0,y:0}),fe=r({getBoundingClientRect:()=>({width:0,height:0,top:he.value.y,left:he.value.x,bottom:he.value.y,right:he.value.x}),get clientWidth(){return 0},get clientHeight(){return 0}}),we=r({}),ke=r(!1),ye=r({total:10,page:1,pageSize:20}),be=r([]),{mode:Ce}=o(n()),Se=i((()=>T.evmAddress||R.address));d((()=>R.walletSignature[R.address]),(e=>{e&&ze()})),d((()=>T.evmAddress),(e=>{e?ze():be.value=[]})),d((()=>R.address),(e=>{e?ze():be.value=[]}));const Fe=e=>{W.push(`/address/${e.user_address}-${e.user_chain}`)},je=({prop:e,order:a})=>{e&&("ascending"===a?be.value=be.value.toSorted(((a,s)=>a[e]-s[e])):"descending"===a&&(be.value=be.value.toSorted(((a,s)=>s[e]-a[e]))))},ze=async()=>{var e;const a=await J({address:Se.value,pageNO:ye.value.page,pageSize:ye.value.pageSize,time_interval:"7d",sort_dir:"desc"}),s=a.data&&(null==(e=a.data)?void 0:e.map((e=>({...e,total_txs:Be(e.total_sold).plus(Be(e.total_purchase)).toString(),total_txs_usd:Be(e.total_sold_usd).plus(Be(e.total_purchase_usd)).toString()}))))||[];be.value=s};function Be(e){try{const a=new I(e);return a.isFinite()?a:new I(0)}catch(a){return new I(0)}}return c((()=>{(T.evmAddress||R.address)&&ze()})),(e,a)=>{const s=y,t=S,l=G,r=F,o=Q,n=q,i=E,d=H,c=u("copy"),I=_;return m(),p("div",null,[v((m(),g(o,{class:"mt-12px",height:"calc(100vh - 210px)","row-class-name":"group",data:be.value,fit:"",onSortChange:je,onRowClick:Fe},{empty:h((()=>[ke.value?(m(),p("span",Z)):(m(),p("div",K,["light"===f(Ce)?(m(),p("img",O)):A("",!0),"dark"===f(Ce)?(m(),p("img",P)):A("",!0),w("span",null,k(f(xe)("emptyNoData")),1)]))])),default:h((()=>[x(l,{label:f(xe)("address"),"min-width":"160","show-overflow-tooltip":""},{default:h((({row:e,$index:l})=>[w("div",L,[w("span",X," #"+k((ye.value.page-1)*ye.value.pageSize+l+1),1),x(s,{name:"custom:attention",class:C([1===e.is_wallet_address_fav?"color-[#F45469]":"color-[#999]","color-var(--d-999-l-666) h-16px w-16px clickable shrink-0"]),onClick:b((a=>(async e=>{R.address&&!R.walletSignature[R.address]&&await R.signMessageForFavorite(),ke.value=!0,(1===e.is_wallet_address_fav?U:V)({address:Se.value,user_address:e.user_address,user_chain:e.user_chain}).then((()=>{N.success(1===e.is_wallet_address_fav?xe("attention1Canceled"):xe("attention1Success")),ze()})).catch((e=>{})).finally((()=>{ke.value=!1}))})(e)),["stop","prevent"])},null,8,["class","onClick"]),x(t,{class:"mx-8px",wallet_logo:e.wallet_logo,address:e.user_address,chain:e.user_chain,iconSize:"24px"},null,8,["wallet_logo","address","chain"]),w("div",ee,[w("div",ae,[w("span",se,k(e.remark),1),w("div",{ref:"buttonRef",onClick:b((a=>((e,a)=>{const s=a.currentTarget.getBoundingClientRect();he.value={x:s.left+s.width/2,y:s.top+s.height/2},ge.value=!0,we.value=e,_e.value=e.remark||""})(e,a)),["stop","prevent"])},[x(s,{class:"text-[--d-666-l-999] w-12px h-12px ml-4px",name:"custom:remark"})],8,te)]),w("div",le,[v(x(s,{onClick:a[0]||(a[0]=b((()=>{}),["stop","prevent"])),name:"bxs:copy",class:"clickable text-[--d-666-l-999]"},null,512),[[c,null==e?void 0:e.user_address]]),x(s,{name:"custom:sun-icon",class:"text-12px mx-5px"}),x(s,{name:"custom:wallet-icon",class:"text-12px"})])])])])),_:1},8,["label"]),x(l,{label:f(xe)("noteTime"),align:"right"},{default:h((({row:a})=>[x(r,{placement:"right",content:f(j)(a.create_time).format("YYYY-MM-DD HH:mm:ss")},{default:h((()=>[w("div",re,k(("formatTimeFromNow"in e?e.formatTimeFromNow:f(z))(null==a?void 0:a.create_time)),1)])),_:2},1032,["content"])])),_:1},8,["label"]),x(l,{label:f(xe)("tokenBalance"),align:"right"},{default:h((({row:e})=>[w("div",null,[(null==e?void 0:e.main_token_balance_amount)>0?(m(),p("div",oe,k(f(B)((null==e?void 0:e.main_token_balance_amount)||0,2))+"Â "+k(e.main_token_symbol),1)):(m(),p("div",ne," 0 "))])])),_:1},8,["label"]),x(l,{label:f(xe)("walletTotalBalance"),align:"right"},{default:h((({row:e})=>[w("div",null,[(null==e?void 0:e.total_balance)>0?(m(),p("div",ie," $"+k(f(B)((null==e?void 0:e.total_balance)||0,1)),1)):(m(),p("div",de," $0 "))])])),_:1},8,["label"]),x(l,{label:f(xe)("pushTitle"),align:"right"},{default:h((({row:e})=>[w("div",{class:"flex flex-row-reverse",onClick:a[1]||(a[1]=b((()=>{}),["stop"]))},[w("a",{class:"flex items-center",href:`https://t.me/AveSniperBot?start=fs-${e.user_chain}-${e.user_address}`,target:"_blank"},[x(s,{name:"custom:documentary-wallet",class:"text-16px mr-2px"}),$(" "+k(f(xe)("documentation")),1)],8,ce),"solana"===(null==e?void 0:e.user_chain)||"bsc"===(null==e?void 0:e.user_chain)?(m(),p("div",{key:0,class:"flex items-center mr-12px cursor-pointer color-[#666] group-hover:color-[var(--d-F2F2F2-l-333)]",onClick:a=>(async e=>T.evmAddress?0===e.is_wallet_address_fav?N.warning(xe("monitorError")):(0===(null==e?void 0:e.is_monitored)?await Y({address:e.user_address,app:0,buy:1,chain:e.user_chain,sell:1,telegram:0,user_address:Se.value,website:1}):await D({address:e.address,uid:e.id}),N.success(xe("success")),void ze()):N.warning(xe("noBotWalletTip")))(e)},[x(s,{name:"custom:monitor-icon",class:"text-16px mr-2px"}),w("span",pe,k(1===(null==e?void 0:e.is_monitored)?f(xe)("pause"):f(xe)("openMonitor")),1)],8,ue)):(m(),p("div",me,[x(s,{name:"custom:monitor-icon",class:"text-16px mr-2px"})]))])])),_:1},8,["label"])])),_:1},8,["data"])),[[I,ke.value]]),x(n,{class:"mt-15px","current-page":ye.value.page,"onUpdate:currentPage":a[2]||(a[2]=e=>ye.value.page=e),"page-size":ye.value.pageSize,"onUpdate:pageSize":a[3]||(a[3]=e=>ye.value.pageSize=e),layout:"prev, pager, next, ->",total:ye.value.total,"page-sizes":[10,20,30,40,50,60]},null,8,["current-page","page-size","total"]),x(d,{visible:ge.value,"virtual-ref":fe.value,"virtual-triggering":"",trigger:"click",width:250},{default:h((()=>[w("div",null,[w("div",null,k(f(xe)("editRemark")),1),x(i,{modelValue:_e.value,"onUpdate:modelValue":a[4]||(a[4]=e=>_e.value=e),maxlength:"50","show-word-limit":"",placeholder:f(xe)("enterRemark"),class:"mt-8px w-200px"},null,8,["modelValue","placeholder"]),w("div",ve,[w("div",{onClick:a[5]||(a[5]=e=>ge.value=!1),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},k(f(xe)("cancel")),1),w("div",{onClick:a[6]||(a[6]=e=>(async e=>{if(_e.value.length>50)return N.error(xe("remarkError"));await M({remark:_e.value,user_address:e.user_address,user_chain:e.user_chain,self_address:Se.value}),N.success(xe("success")),ge.value=!1,ze()})(we.value)),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},k(f(xe)("confirm")),1)])])])),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-1d03bab1"]]);export{xe as default};
